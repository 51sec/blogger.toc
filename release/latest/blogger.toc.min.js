/** Copyright (c) 2013 akinari tsugo */function f(a){return function(){return a}}function h(a,c){function b(){}b.prototype=c.prototype;a.m=c.prototype;a.prototype=new b};function l(a){this.a=a};function m(a){this.a=a}h(m,l);m.prototype.execute=function(a){a=a.entry||[];var c,b,e,d;c=document.createElement("ul");c.className="poststoc-list";e=0;for(d=a.length;e<d;e++)b=document.createElement("li"),b.appendChild(this.d(a[e])),b.className="poststoc-item",c.appendChild(b);return c};
m.prototype.d=function(a){var c=document.createElement("span"),b=document.createElement("span"),e=document.createElement("span"),d=document.createElement("a");b.appendChild(document.createTextNode(a.published.$t));b.className="poststoc-published";e.appendChild(document.createTextNode(a.updated.$t));e.className="poststoc-updated";d.appendChild(document.createTextNode(a.title.$t));d.href=a.link[a.link.length-1].href;d.className="poststoc-title";c.appendChild(b);c.appendChild(e);c.appendChild(d);c.className=
"poststoc-entry";return c};function n(a){this.a=a}n.prototype.c=f("published");n.prototype.execute=function(){};function p(a){this.a=a}h(p,n);p.prototype.c=f("published");p.prototype.execute=function(){};function q(){var a=window.POSTSTOC_SETTINGS||{};this.g=r(a.blogURL,"garafu.blogspot.jp");this.e=r(a.maxResults,500);this.style=r(a.style,"");this.i=r(a.orderby,"published");this.j=r(a.printby,"label");this.k=r(a.labelListEnabled,!0);this.n=r(a.updatedDateEnabled,!1);this.l=r(a.publishedDateEnabled,!0)}function r(a,c){return void 0!==a?a:c};function s(a,c,b){var e;s=e=window.addEventListener?function(a,b,c){a.addEventListener(b,c,!1)}:window.attachEvent?function(a,b,c){a.attachEvent("on"+b,c)}:function(a,b,c){a["on"+b]=c};e(a,c,b)};function t(a){this.a=a}h(t,l);t.prototype.execute=function(a){var c=a.entry||[],b=a.category||[],e,d,g,k,v,w;e={};for(a=b.length;a--;)e[b[a].term]=a;d=document.createDocumentFragment();for(a=b.length;a--;)d.appendChild(u(this,b[a]));for(a=c.length;a--;)for(g=c[a],k=g.category,b=k.length;b--;)v=d.childNodes[e[k[b].term]],v=v.getElementsByTagName("ul")[0],w=document.createElement("li"),w.appendChild(this.d(g)),w.className="poststoc-item",v.appendChild(w);return d};
function u(a,c){var b=a.a,e=document.createElement("div"),d=document.createElement("div"),g=document.createElement("a"),k=document.createElement("ul"),b="http://"+b.g,b=b+"/search/label/",b=b+c.term;g.appendChild(document.createTextNode(c.term));g.href=b;g.className="poststoc-category-anchor";d.appendChild(g);d.className="poststoc-category-title";k.className="poststoc-list";e.appendChild(d);e.appendChild(k);e.className="poststoc-category";return e}
t.prototype.d=function(a){var c=document.createElement("span"),b=document.createElement("span"),e=document.createElement("span"),d=document.createElement("a");b.appendChild(document.createTextNode(a.published.$t));b.className="poststoc-published";e.appendChild(document.createTextNode(a.updated.$t));e.className="poststoc-updated";d.appendChild(document.createTextNode(a.title.$t));d.href=a.link[a.link.length-1].href;d.className="poststoc-title";c.appendChild(b);c.appendChild(e);c.appendChild(d);c.className=
"poststoc-entry";return c};function x(a){this.a=a}h(x,n);x.prototype.c=f("published");x.prototype.execute=function(a){(a.entry||[]).sort(function(a,b){return a.title.$t>b.title.$t?1:-1})};function y(a){this.a=a}h(y,n);y.prototype.c=f("updated");y.prototype.execute=function(){};function z(){this.a=new q;this.f=A(this);var a;a:switch(a=this.a,a.j.toLowerCase()){case "title":a=new m(a);break a;case "label":a=new t(a);break a;default:a=new m(a)}this.h=a;this.b=0;B(this)}var C="__garafu.blogger.toc__"+(new Date).getTime(),D=null,contract=contract||void 0,E=contract;
function B(a){var c,b,e;c=a.b+1;e=a.b+500<a.a.e?a.b+500:a.a.e-a.b;var d=a.a;b=a.f;d="http://"+d.g;d+="/feeds/posts/summary?";d+="redirect=false&";d+="start-index="+c+"&";d+="max-results="+e+"&";d+="orderby="+b.c()+"&";d+="alt=json-in-script&";d+="callback=";c=d+="garafu.blogger.toc.load";b=document.createElement("script");b.src=c;b.type="text/javascript";document.body.appendChild(b);a.b=e}z.prototype.sort=function(a){this.f.execute(a.feed||{})};
z.prototype.print=function(a){a=this.h.execute(a.feed||{});var c=document.createElement("div"),b=document.createElement("a");document.createElement("a");document.createElement("a");b.href="https://github.com/garafu/blogger.toc";b.appendChild(document.createTextNode('"garafu.blogger.toc" created by garafu.'));c.appendChild(b);c.style.display="block";c.style.fontSize="small";a.appendChild(c);document.getElementById(C).appendChild(a)};
function A(a){a=a.a;switch(a.i.toLowerCase()){case "published":return new p(a);case "updated":return new y(a);case "title":return new x(a);default:return new p(a)}}s(window,"load",function(){D=new z});document.write('<div id="'+C+'" class="poststoc">LOAD DATA ...</div>');function F(a){var c,b;c=D;E?(b=E.feed.entry,a=a.feed.entry,b=b.concat(a),E.feed.entry=b):E=a;if(c.a.e<=c.b){for(b=document.getElementById(C);a=b.firstChild;)b.removeChild(a);c.sort(E);c.print(E)}else B(c)}
var G=["garafu","blogger","toc","load"],H=this;G[0]in H||!H.execScript||H.execScript("var "+G[0]);for(var I;G.length&&(I=G.shift());)G.length||void 0===F?H=H[I]?H[I]:H[I]={}:H[I]=F;
